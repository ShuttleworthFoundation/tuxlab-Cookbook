<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
                      "http://www.docbook.org/xml/4.4/docbookx.dtd"
[ 
<!ENTITY % globalents SYSTEM "../common/global.ent">
 %globalents; 
 <!ENTITY % xinclude SYSTEM "../libs/xinclude.mod">
%xinclude;
 ]>
<chapter>
          
                    <title>Hardware Module</title>
                    
                    <abstract>&abstract-hardware;</abstract>

                    <section id="hw_hdware_background">
                              <title>Hardware Background</title>
                              <para>It is not hard to imagine looking into a computer lab and seeing the computers. In a &productname; there are
                                        two subsections of hardware, thin-client workstations and the &productname; server. Before we discuss the
                                        setup and configuration of the server and the workstations let's take some time to discuss the theory behind
                                        each of these hardware subsections.</para>
                              <section id="hw_thin_client">
                                        <title>Thin-client computing</title>
                                        <para>A &productname; computer laboratory consists of a classroom full of <emphasis>thin client</emphasis>
                                                  workstations communicating with a classroom server. The specific implementation of thin client
                                                  computing used in &productname;s is discussed in <xref linkend="hw_linux-terminal-server-project"
                                                  />.</para>
                                        <section id="hw_what-is-thin-client-computing">
                                                  <title>What is Thin Client Computing?</title>
                                                  <para>
                                                            <emphasis>Thin client</emphasis> and <emphasis>fat client</emphasis> (also called "thick"
                                                            or "rich" client) are mostly marketing terms for different configurations of computers. A
                                                            thin client asks a central server to do most of its processing, and keeps as little
                                                            hardware and software as possible on the workstation side. Ideally, the user of a thin
                                                            client should have only a screen, keyboard, mouse and enough computing power to handle
                                                            display and network communications --- you don't even need (or want) a hard drive. The
                                                            less you have, the less there is to go wrong.</para>
                                                  <para>A fat client does as much processing as possible by itself, and only passes data required for
                                                            communication and storage on to the server. A standalone PC is the typical fat client with
                                                            which everyone is familiar.</para>
                                                  <mediaobject>
                                                            <imageobject>
                                                                      <imagedata fileref="../images/fatclient.gif"/>
                                                            </imageobject>
                                                            <caption>Fat client</caption>
                                                  </mediaobject>
                                                  <para>A thin client may be a software program executing on a generic PC, or it may be a hardware
                                                            device, called a terminal, designed to provide only user input and display functions.
                                                            Because old PCs (whether retired, written off, obsolete or just out of fashion) are easier
                                                            to find than specialised thin client hardware, &productname;s uses them as thin
                                                            clients, with the appropriate software. Because they don't do much work themselves, the
                                                            hardware requirements for these "old" PCs are very basic. Since every client in a thin
                                                            client network asks a central server to do its work, all the individual workstations look
                                                            the same: they all share the same server, and they all behave exactly like the server
                                                            would if you were using it directly.</para>
                                                  <para>In addition, although everyone who uses the lab can have their own computing environment
                                                            stored on the server, with their own files, desktop, and so on, the individual
                                                            workstations can't get viruses or be misconfigured by curious learners - there simply
                                                            isn't anything to configure! The thin client doesn't have enough brains to get confused.</para>
                                                  <para>This means that the lab computers are trivial to keep up and maintenance is restricted to the
                                                            server in the back room.</para>
                                                  <para>Thin clients are cheaper and require less administration than fat clients. On the other hand,
                                                            they tend to require far greater network bandwidth, as display data will probably need to
                                                            be passed to the thin clients. They can't do a single thing on their own - for each and
                                                            every action, they need to talk to the server. This means that a server for a room full of
                                                            thin clients must be much more capable than a server used by fat clients.</para>
                                                  <para>One of the advantages that this configuration entails is that all the software resides on the
                                                            server, and so you only have to upgrade it once. In a fat client configuration, every
                                                            workstation has its own copies of the software, and so any upgrade needs to be rolled out
                                                            to every workstation.</para>
                                                  <mediaobject>
                                                            <imageobject>
                                                                      <imagedata fileref="../images/thinclient.gif"/>
                                                            </imageobject>
                                                  </mediaobject>
                                        </section>
                              </section>
                              <section id="hw_server_computing">
                                        <title>The Server</title>
                                        <para>We have already spoken about the use of a server as we discussed the thin-client verses fat-client
                                                  scenario in the previous section. In the &productname;, the server does all the computing work
                                                  and so needs to be a powerful computer, capable of serving all the needs of the thin clients. The
                                                  Linux configuration that provides the interface that allows all this to happen is the
                                                            <emphasis>Linux Terminal Server Project</emphasis>.</para>
                                        <section id="hw_linux-terminal-server-project">
                                                  <title>Linux Terminal Server Project</title>
                                                  <para>The Linux Terminal Server Project ( <acronym>LTSP</acronym>) is a configuration of Linux that
                                                            allows you to connect lots of low-powered thin client terminals to a Linux server. The
                                                                      <acronym>LTSP</acronym> provides a simple way to utilise low cost workstations
                                                            as either graphical or character-based terminals on a GNU/Linux server.</para>
                                                  <para>Once installed within your Linux distribution, LTSP lets you boot diskless workstations from
                                                            an application server.</para>
                                        </section>
                              </section>
                    </section>
                    <section id="hw_hdware_components">
                              <title>The Computers of a &productname;</title>
                              <para>When speaking or reading about computer hardware there are specific words and abreviations used that are not part
                                        of common everyday usage. If you are unfamiliar with these terms please don't stress. They are relatively easy
                                        to understand, and once you know what they are you will wonder why you didn't already know them. As you are
                                        already learning all about computers as you setup and install a &productname;, you will quickly learn
                                        these terms, and probably many others too.</para>
                              <section id="hw_computer_hardware">
                                        <title>Hardware Requirements</title>
                                        <para>Now that we understand what the computer hardware will be doing, it's time to discuss the various
                                                  requirements of the server and thin clients.</para>
                                        <section id="hw_server_req">
                                                  <title>Server Hardware Requirements</title>
                                                  <para>In a thin client set up, the server needs to be powerful enough to run all the applications in
                                                            the lab.</para>
                                                  <para>As a general rule of thumb, the server should have (at a bare minimum) 100MB RAM per thin
                                                            client, and an additional 500MB for web and other services that might be running on the
                                                            server. Disk space depends on the needs of the school, although the amount of disk space
                                                            isn't too important. Serial ATA disks offer better performance than IDE disks. It's
                                                            recommended that you add at use at least two 80GB 7200rpm SATA disks, although 200GB or
                                                            more is recommended. We recommend at least a CD writer drive for backup purposes, but a
                                                            DVD writer is recommended.</para>
                                                  <para><emphasis role="bold">Minimum</emphasis> server specification for a 20 seat lab:</para>
                                                  <itemizedlist>
                                                            <listitem>
                                                                      <para>Intel Xeon Server Board with Intel 3GHz CPU (or similar hardware)</para>
                                                            </listitem>
                                                            <listitem>
                                                                      <para>2.5 GB RAM</para>
                                                            </listitem>
                                                            <listitem>
                                                                      <para>2x SATA 80GB Hard disks</para>
                                                            </listitem>
                                                            <listitem>
                                                                      <para>CD Writer</para>
                                                            </listitem>
                                                  </itemizedlist>
                                                  <para>Recommended server specification for a 20 seat lab:</para>
                                                  <itemizedlist>
                                                            <listitem>
                                                                      <para>Intel Xeon Server Board with Dual Xeon CPU</para>
                                                            </listitem>
                                                            <listitem>
                                                                      <para>4GB RAM</para>
                                                            </listitem>
                                                            <listitem>
                                                                      <para>2x 200GB SATA or SCSI Hard Disks</para>
                                                            </listitem>
                                                            <listitem>
                                                                      <para>DVD Writer/RAM Drive</para>
                                                            </listitem>
                                                  </itemizedlist>
                                                  <para>
                                                            <emphasis role="strong">Memory</emphasis> - The server should have 2GB
                                                            <acronym>RAM</acronym> or more (512MB for the base system, and 100MB for each additional
                                                            client). As long as you're using it all up, more <acronym>RAM</acronym> means more speed
                                                            (it doesn't help to have <acronym>RAM</acronym> that you don't use). Too little
                                                                      <acronym>RAM</acronym> will bring your server to a crawl as it starts swapping
                                                            memory to the hard drive. If you run out of memory, performance will be unacceptable.</para>
                                                  <para>
                                                            <emphasis role="strong">Hard drive</emphasis> - SCSI and Serial ATA disks are faster than
                                                            IDE. We've seen <acronym>LTSP</acronym> servers slow to a crawl when more than 10 clients
                                                            are running from IDE drives. SCSI drives are better equipped to handle the multiple
                                                            read/write requests. SATA drives offer greater speed than IDE and are becoming more and
                                                            more available.</para>
                                                  <para>
                                                            <emphasis role="strong">Network</emphasis> - Your server will have at least one Ethernet
                                                            card to create a private network ( <literal>192.168.0.x</literal>). This card connects to
                                                            a switch for terminals. If there is a school network to which you need to connect, or if
                                                            the school has a internet connection via the server, it will have a second Ethernet card,
                                                            which will get an IP address on the second network.</para>
                                        </section>
                                        <section id="hw_thin_client_req">
                                                  <title>Thin client hardware requirements</title>
                                                  <para>You can use computers that are specifically designed to be thin clients as workstations, or
                                                            you could use standard computer hardware as thin clients.</para>
                                                  <para>Minimum thin client requirements:</para>
                                                  <itemizedlist>
                                                            <listitem>
                                                                      <para>CPU: 266mHz IA32 CPU</para>
                                                            </listitem>
                                                            <listitem>
                                                                      <para>RAM: 32 MB</para>
                                                            </listitem>
                                                            <listitem>
                                                                      <para>Bootable network card (PXE or Etherboot) or Etherboot floppy</para>
                                                            </listitem>
                                                            <listitem>
                                                                      <para>2MB Display card with supported chipset</para>
                                                            </listitem>
                                                            <listitem>
                                                                      <para>No hard disk required</para>
                                                            </listitem>
                                                  </itemizedlist>
                                                  <para>Recommended thin client specifications:</para>
                                                  <itemizedlist>
                                                            <listitem>
                                                                      <para>CPU: 400mHz IA32 CPU</para>
                                                            </listitem>
                                                            <listitem>
                                                                      <para>RAM: 64 MB</para>
                                                            </listitem>
                                                            <listitem>
                                                                      <para>Bootable network card (PXE or Etherboot)</para>
                                                            </listitem>
                                                            <listitem>
                                                                      <para>4MB Display card</para>
                                                            </listitem>
                                                            <listitem>
                                                                      <para>No hard disk required</para>
                                                            </listitem>
                                                  </itemizedlist>
                                                  <para>
                                                            <emphasis role="strong">Memory</emphasis> - Client workstations should have at least 32MB
                                                            of <acronym>RAM</acronym>. Clients aren't that dependent on swap space for extra memory
                                                            capacity, since memory usage on them is reasonably constant because they don't execute
                                                            applications: they only display them.</para>
                                                  <para>
                                                            <emphasis role="strong">Hard drive</emphasis> - Client workstations have no need to write
                                                            data to a local hard drive and so should not have any installed on the thin client.</para>
                                                  <para>
                                                            <emphasis role="strong">Network</emphasis> - Each client workstation should have one
                                                            network card with a boot <acronym>ROM</acronym> to enable booting from the network.</para>
                                        </section>
                                        <section id="hw_network_switching_hub_req">
                                                  <title>Network Switch</title>
                                                  <para>The hub of the network needs to be a switching hub capable of 100mbps for workstations, and
                                                            1000mpbs (1 gbps) for the server or uplink connections. 1000mbps would be ideal for every
                                                            connection, this would however require equivalent network cards in all workstations and
                                                            may present a big cost issue. 100mbps is sufficient though, and newer desktop sharing
                                                            technologies are becoming more efficient with regards to network traffic.</para>
                                                  <para>An Ethernet hub is not acceptable (see <xref linkend="hw_switches-hubs"/>), it's too slow for
                                                            network boot and <acronym>NFS</acronym>. Having a fast Ethernet switch will make your life
                                                            better and more colourful.</para>
                                                  <para>The number of ports on the switch must be enough for your clients and server. If you have more
                                                            than 24 NICs, 2 or more 12-port/16-port fast Ethernet switches are recommended. The client
                                                            ports should be 100 megabit, and there should be a gigabit port for the server. Since all
                                                            clients get their display from the server, a slow link to the server would be a bottleneck
                                                            for the whole lab.</para>
                                                  <mediaobject>
                                                            <imageobject>
                                                                      <imagedata fileref="../images/switch-front-blinkenlights.gif"/>
                                                            </imageobject>
                                                            <caption>The front panel of the switch shows a light for every network cable that's been
                                                                      plugged in. The light shows whether the link is up, whether there is traffic and
                                                                      what its speed is.</caption>
                                                  </mediaobject>
                                                  <mediaobject>
                                                            <imageobject>
                                                                      <imagedata fileref="../images/switch-cables.gif"/>
                                                            </imageobject>
                                                            <caption>The cables from the workstations all terminate at the switch. If you don't label
                                                                      them, they get very hard to tell apart!</caption>
                                                  </mediaobject>
                                                  <para>Please refer to the <xref linkend="hw_hdware_networking"/> chapter for more requirements
                                                            regarding the network.</para>
                                        </section>
                              </section>
                              <section id="hw_refurbishing_thin_client">
                                        <title>Refurbishment of thin clients / workstation computers</title>
                                        <para>If you have computers that have been donated to your school for use in your &productname;, you will
                                                  need to refurbish them before installing them onto the network.</para>
                                        <para>Refurbishment of a workstation entails:</para>
                                        <itemizedlist>
                                                  <listitem>
                                                            <para>Cleaning the equipment.</para>
                                                  </listitem>
                                                  <listitem>
                                                            <para>Removing any unnecessary hardware (such as serial port cards, hard disks,
                                                            etc).</para>
                                                  </listitem>
                                                  <listitem>
                                                            <para>Ensuring that the workstations can boot from an LTSP network.</para>
                                                  </listitem>
                                                  <listitem>
                                                            <para>Serialising all hardware.</para>
                                                  </listitem>
                                                  <listitem>
                                                            <para>Ensuring the privacy of hardware donors.</para>
                                                  </listitem>
                                        </itemizedlist>
                                        <para>The first thing to do is to set up a static free environment in which to work on the computers. This can
                                                  be as simple as setting up a static free surface on a desk or wearing an antistatic wrist band
                                                  connected to the computer you are working on. If neither of these two options are available to you,
                                                  then work on a clean metal desktop and regularly discharge any static electricity build up by
                                                  touching the surface of the desk with your fingers before touching any computer component.</para>
                                        <para>Now you need to unscrew the case of the computer and clean out any dust build up by spraying compressed
                                                  air over the motherboard and components. Remember to aim the air spray in such a manner that the
                                                  dust is blown out of the case, away from your face. Once the accumulation of dust has been cleaned,
                                                  you need to asses what components are in the computer. Identify the graphics adapter, the amount of
                                                  memory, whether the computer has a network adapter, a sound card, a modem, or any other peripheral
                                                  card within it.</para>
                                        <para>Remove all of the hardware that a thin client will not be using (i.e. harddrives, modems, etc.). If you
                                                  are removing a harddrive, either return it to the donor or format the harddrive before removing it
                                                  so that the data originally contained on the disk is erased. Now either write serial numbers on the
                                                  computer components or make stickers with serial numbers and stick them on the motherboard, cards,
                                                  and computer case. Make a record of all the serial numbers in a book or in the school's inventory
                                                  management system.</para>
                                        <para>The final step is to put the computer case back on and attach the cables. Switch it on to check that the
                                                  remaining hardware is fully functioning (as there is no harddrive you will not be able to boot until
                                                  you have configured the workstation to be LTSP bootable, what we'll discuss next...).</para>
                                        <section>
                                                  <title>Making a workstation LTSP bootable</title>
                                                  <para>There are several methods that one can use to make a computer boot to an LTSP network. This
                                                            includes booting from an existing storage medium, such as CD-ROM, floppy or hard disk
                                                            using an Etherboot image. This however, is not the recommended method, since CD-ROM discs
                                                            and floppy disks can be removed from the computer, and old hard disks tend to have a high
                                                            failure rate. Most new computers are sold with on-board network cards, which typically
                                                            have PXE (Pre-Execution Environment) installed, which will work fine with LTSP. Although
                                                            older versions of PXE may work fine, it is recommended that you purchase a card with PXE
                                                            version 2.0 or later.</para>
                                                  <para>If you are using an older computer, which is not PXE capable, you might want to consider
                                                            buying a network card with PXE enabled (contact your local hardware vendor), or, you could
                                                            purchase a network card with an Etherboot ROM chip installed, which you can still purchase
                                                            from <ulink url="http://www.netday.org.za">netday.org.za</ulink>.</para>
                                                  <para>If you're on a budget, and can't afford to buy PXE or Etherboot cards, you could create a boot
                                                            image for existing media using software and boot images from <ulink
                                                                      url="http://rom-o-matic.net">rom-o-matic.net</ulink>. Instructions are available
                                                            on the rom-o-matic website.</para>
                                        </section>
                                        <section id="hw_things-to-look-out-for">
                                                  <title>Things To Look Out For</title>
                                                  <variablelist>
                                                            <varlistentry>
                                                                      <term>Monitors</term>
                                                                      <listitem>
                                                                           <para>The display size should be at least 15", and the monitor must be
                                                                           capable of SVGA video modes. It should also be compatible
                                                                           with the video card of the client.</para>
                                                                      </listitem>
                                                            </varlistentry>
                                                            <varlistentry>
                                                                      <term>Uniform equipment</term>
                                                                      <listitem>
                                                                           <para>If you use the same equipment throughout your &productname;,
                                                                           it becomes easier to buy in bulk and to swap out components.
                                                                           It also makes it easier for &productname;s to assist
                                                                           each other with skills and equipment.</para>
                                                                           <para>Heterogeneous boxes, in comparison, are harder to keep running,
                                                                           and more likely to be "throw-away" - not worth trying to
                                                                           resurrect. As long as they don't cost you anything, this is
                                                                           worth it, but you have to guard against them becoming a
                                                                           drain on your time and resources.</para>
                                                                      </listitem>
                                                            </varlistentry>
                                                  </variablelist>
                                        </section>
                                        <section id="hw_sources-for-second-hand-equipment">
                                                  <title>Sources for Second Hand Equipment</title>
                                                  <para>Locally, FreeCom supplies tested refurbished computers. Because of the high volume of hardware
                                                            required by the large number of &productname;s installed, the Shuttleworth Foundation
                                                            has procured the client workstations from international distributors such as Computer Aid.
                                                            Other workstations have been donated by private industry.</para>
                                        </section>
                              </section>
                              <section id="hw_internet_connection">
                                        <title>Connecting to the Internet</title>
                                        <para>Practically any Internet connection is compatible with a &productname;. This includes:</para>
                                        <itemizedlist>
                                                  <listitem>
                                                            <para>Dial-up with modem and phone line</para>
                                                  </listitem>
                                                  <listitem>
                                                            <para>GPRS with a GSM phone</para>
                                                  </listitem>
                                                  <listitem>
                                                            <para>ISDN with a terminal adapter and digital line</para>
                                                  </listitem>
                                                  <listitem>
                                                            <para>ADSL with an ADSL modem and ADSL line</para>
                                                  </listitem>
                                                  <listitem>
                                                            <para>Any existing TCP/IP gateway</para>
                                                  </listitem>
                                        </itemizedlist>
                                        <para>A gateway/firewall machine is typically placed between the Internet and the &productname; server.
                                                  This increases network security and takes some load off the main server.</para>
                                        <para>If you are using a connection which is only temporary, such as Dial-up or GPRS, then it's suggested that
                                                  you use a system such as the Wizzy server. Wizzy allows you to set the firewall machine to dial-up
                                                  at certain times of the day (typically in off-peak time for costs savings), and will then download
                                                  all appropriate content, to be used for the next day. You may also connect directly any time of the
                                                  day, and data will still be stored for off-line use. </para>
                                        <para>For more information on the Wizzy Digital Courier, see: <ulink url="http://www.wizzy.org.za"
                                                            >www.wizzy.org.za</ulink>.</para>
                                        <para>If you are using a permanent Internet connection, such as ADSL, cable, or satellite, then the easiest
                                                  method is using a Linux distribution called smoothwall. Smoothwall gives you a web interface which
                                                  allows you to adjust all aspects of your firewall machine inside your web browser. </para>
                                        <para>For more information on the Smoothwall distribution, see: <ulink url="http://www.smoothwall.org"
                                                            >www.smoothwall.org</ulink>.</para>
                                        <para>Alternatively, the Ubuntu Server distribution works well, although it will require more skill to set up.
                                                  For more information, see <ulink url="http://www.ubuntuserver.com"
                                                  >http://www.ubuntuserver.com</ulink> (scripts for this will be available on the &productname;
                                                  add-on CD).</para>
                                        <para>Connecting your &productname; server to the gateway/firewall box, or even directly to the Internet,
                                                  will automatically allow Internet access to all the thin clients connected to it.</para>
                                        <para>If you have any non-LTSP machines on your network, you need to either connect the gateway machine
                                                  directly to the switch, or set up routing on the &productname; machine. Software is available on
                                                  the &productname; DVD that will assist with this.</para>
                              </section>
                              <section id="hw_how-the-lab-works">
                                        <title>How the lab works</title>
                                        <para>In this section we take you through a step by step list of what is happening during the startup process
                                                  of a workstation in a &productname;.</para>
                                        <orderedlist>
                                                  <listitem>
                                                            <formalpara>
                                                                      <title>"Power On Self Test" ( <acronym>POST</acronym>)</title>
                                                                      <para>When you turn on the workstation, it will go through its Power On Self
                                                                           Test ( <acronym>POST</acronym>.</para>
                                                            </formalpara>
                                                  </listitem>
                                                  <listitem>
                                                            <formalpara>
                                                                      <title>Find the boot <acronym>ROM</acronym></title>
                                                                      <para>During the self test, the <acronym>BIOS</acronym> will search for
                                                                           expansion ROMs. The network card contains an Etherboot boot-ROM, which
                                                                           is an expansion <acronym>ROM</acronym>. The <acronym>BIOS</acronym>
                                                                           will detect the <acronym>ROM</acronym> on the network card (it doesn't
                                                                           know about the network card, it only notices the
                                                                           <acronym>ROM</acronym>).</para>
                                                            </formalpara>
                                                  </listitem>
                                                  <listitem>
                                                            <formalpara>
                                                                      <title>Boot</title>
                                                                      <para>Once the <acronym>POST</acronym> is complete, execution will jump into the
                                                                           Etherboot code.</para>
                                                            </formalpara>
                                                  </listitem>
                                                  <listitem>
                                                            <formalpara>
                                                                      <title>Find the network card</title>
                                                                      <para>The Etherboot code will scan for a network card. Once it detects the card,
                                                                           the card will be initialised.</para>
                                                            </formalpara>
                                                  </listitem>
                                                  <listitem>
                                                            <formalpara>
                                                                      <title>
                                                                           <acronym>DHCP</acronym> request</title>
                                                                      <para>The Etherboot code will then broadcast a <acronym>DHCP</acronym> request
                                                                           to the local network. The request will include the
                                                                           <acronym>MAC</acronym> address of the network card.</para>
                                                            </formalpara>
                                                  </listitem>
                                                  <listitem>
                                                            <formalpara>
                                                                      <title>
                                                                           <acronym>DHCP</acronym> request received</title>
                                                                      <para>The <command>dhcpd</command> daemon on the server will see the broadcast
                                                                           request from the workstation, and look in its configuration file for
                                                                           an entry that matches the <acronym>MAC</acronym> address of that
                                                                           workstation.</para>
                                                            </formalpara>
                                                  </listitem>
                                                  <listitem>
                                                            <formalpara>
                                                                      <title>
                                                                           <acronym>DHCP</acronym> request reply</title>
                                                                      <para>The <command>dhcpd</command> daemon will construct a reply packet,
                                                                           containing several pieces of information. This packet will be sent
                                                                           back to the workstation. The reply information includes:</para>
                                                            </formalpara>
                                                            <itemizedlist>
                                                                      <listitem>
                                                                           <para>an IP address for the workstation,</para>
                                                                      </listitem>
                                                                      <listitem>
                                                                           <para>the netmask setting for the local network,</para>
                                                                      </listitem>
                                                                      <listitem>
                                                                           <para>the pathname of the kernel to download (this is a filesystem
                                                                           path on the server),</para>
                                                                      </listitem>
                                                                      <listitem>
                                                                           <para>the pathname of the root filesystem to mount as the root of the
                                                                           client filesystem,</para>
                                                                      </listitem>
                                                                      <listitem>
                                                                           <para>optional parameters to be passed to the kernel, via the kernel
                                                                           command line.</para>
                                                                      </listitem>
                                                            </itemizedlist>
                                                  </listitem>
                                                  <listitem>
                                                            <formalpara>
                                                                      <title>Boot <acronym>ROM</acronym> configures <acronym>TCP/IP</acronym>
                                                                           interface</title>
                                                                      <para>The Etherboot code will receive the reply from the server, and it will
                                                                           configure the <acronym>TCP/IP</acronym> interface in the network card
                                                                           with the parameters that were supplied. Once this is done, the client
                                                                           computer has an IP address on the network.</para>
                                                            </formalpara>
                                                  </listitem>
                                                  <listitem>
                                                            <formalpara>
                                                                      <title>Download the kernel using <acronym>TFTP</acronym></title>
                                                                      <para>Using <acronym>TFTP</acronym> (Trivial File Transfer Protocol), the
                                                                           Etherboot code will contact the server and begin downloading the
                                                                           kernel.</para>
                                                            </formalpara>
                                                  </listitem>
                                                  <listitem>
                                                            <formalpara>
                                                                      <title>Kernel downloaded</title>
                                                                      <para>Once the kernel has been completely downloaded to the workstation, the
                                                                           Etherboot code will place the kernel into the correct location in
                                                                           memory.</para>
                                                            </formalpara>
                                                  </listitem>
                                                  <listitem>
                                                            <formalpara>
                                                                      <title>Control passes to kernel</title>
                                                                      <para>Control is then passed to the kernel. The kernel will initialise the
                                                                           entire system and all of the peripherals that it recognises.</para>
                                                            </formalpara>
                                                  </listitem>
                                                  <listitem>
                                                            <formalpara>
                                                                      <title>Mount temporary boot filesystem as <acronym>RAM</acronym> disk</title>
                                                                      <para>This is where the fun really begins. Tacked onto the end of the kernel is
                                                                           a filesystem image. This is loaded into memory as a
                                                                           <acronym>RAM</acronym> disk, and temporarily mounted as the root
                                                                           filesystem. A kernel command line argument of
                                                                           <literal>root=/dev/ram0</literal> tells the kernel to mount the image
                                                                           as the root directory.</para>
                                                            </formalpara>
                                                  </listitem>
                                                  <listitem>
                                                            <formalpara>
                                                                      <title>Kernel boot sequence calls <literal>linuxrc</literal> shell script
                                                                           (before the normal boot sequence starts)</title>
                                                                      <para>Normally, when the kernel is finished booting, it will launch a program
                                                                           called <command>init</command>. But, in this case, we've instructed
                                                                           the kernel to load a shell script instead. We do this by passing
                                                                           <literal>init=/linuxrc</literal> on the kernel command
                                                                      line.</para>
                                                            </formalpara>
                                                  </listitem>
                                                  <listitem>
                                                            <formalpara>
                                                                      <title>Identify kernel module for network card</title>
                                                                      <para>The <command>linuxrc</command> script begins by scanning the PCI bus,
                                                                           looking for a network card. For each PCI device it finds, it does a
                                                                           lookup in the <filename>/etc/niclist</filename> file, to see if it
                                                                           finds a match. Once a match is found, the name of the NIC driver
                                                                           module is returned, and that kernel module is loaded. For ISA cards,
                                                                           the driver module MUST be specified on the kernel command line, along
                                                                           with any IRQ or address parameters that are required.</para>
                                                            </formalpara>
                                                  </listitem>
                                                  <listitem>
                                                            <formalpara>
                                                                      <title>Load kernel module for network card</title>
                                                                      <para>Once the network card has been identified, the <command>linuxrc</command>
                                                                           script will load the kernel module that supports that card.</para>
                                                            </formalpara>
                                                  </listitem>
                                                  <listitem>
                                                            <formalpara>
                                                                      <title>
                                                                           <command>linuxrc</command> makes <acronym>DHCP</acronym> query</title>
                                                                      <para>
                                                                           <command>dhclient</command> will then be run, to make
                                                                           <emphasis>another</emphasis> query from the
                                                                           <acronym>DHCP</acronym> server. We need to do this separate user-space
                                                                           query. We cannot depend on the query that comes from Etherboot,
                                                                           because it gets swallowed up when the kernel uses it. The kernel will
                                                                           also ignore any <acronym>NFS</acronym> server that might have been
                                                                           specified in the root-path. This is important if you want the
                                                                           <acronym>NFS</acronym> server to be different from the
                                                                           <acronym>TFTP</acronym> server.</para>
                                                            </formalpara>
                                                  </listitem>
                                                  <listitem>
                                                            <formalpara>
                                                                      <title>Configure <literal>eth0</literal></title>
                                                                      <para>When <command>dhclient</command> gets a reply from the server, it will run
                                                                           <filename>/etc/dhclient-script</filename>, which will take
                                                                           the information retrieved, and configure the <literal>eth0</literal>
                                                                           interface.</para>
                                                            </formalpara>
                                                  </listitem>
                                                  <listitem>
                                                            <formalpara>
                                                                      <title>Mount the root filesystem from the server via <acronym>NFS</acronym></title>
                                                                      <para>Up to this point, the root filesystem has been a <acronym>RAM</acronym>
                                                                           disk. Now, the <command>linuxrc</command> script will mount a new root
                                                                           filesystem via <acronym>NFS</acronym>. The directory that is exported
                                                                           from the server is typically <filename>/opt/ltsp/i386</filename>. The
                                                                           new filesystem can't just be mounted as <filename>/</filename>
                                                                           immediately. It must first be grafted into the local filesystem by
                                                                           mounting it, typically on the path <filename>/mnt</filename>. Then,
                                                                           the client can do a <command>pivot_root</command>.
                                                                           <command>pivot_root</command> will swap the current root filesystem
                                                                           for a new filesystem. When it completes, the <acronym>NFS</acronym>
                                                                           filesystem will be mounted on <filename>/</filename>, and the old root
                                                                           filesystem will be mounted on <filename>/oldroot</filename>.</para>
                                                            </formalpara>
                                                  </listitem>
                                                  <listitem>
                                                            <formalpara>
                                                                      <title>Hand off to the normal <command>init</command> program (non-LTSP boot
                                                                           sequence continues)</title>
                                                                      <para>Once the mounting and pivoting of the new root filesystem is complete, we
                                                                           are done with the <command>linuxrc</command> shell script and we need
                                                                           to invoke the real <command>init</command> program. <note>
                                                                           <para>Note: from this point, all file paths (except those
                                                                           starting with <filename>/oldroot</filename>, of
                                                                           course) refer to files that are served from the
                                                                           server via <acronym>NFS</acronym>.</para>
                                                                           </note></para>
                                                            </formalpara>
                                                  </listitem>
                                                  <listitem>
                                                            <formalpara>
                                                                      <title>
                                                                           <command>init</command> processes <filename>/etc/inittab</filename></title>
                                                                      <para>
                                                                           <command>init</command> will read the
                                                                           <filename>/etc/inittab</filename> file and begin setting up the
                                                                           workstation environment.</para>
                                                            </formalpara>
                                                  </listitem>
                                                  <listitem>
                                                            <formalpara>
                                                                      <title>
                                                                           <acronym>LTSP</acronym> starts in runlevel 2</title>
                                                                      <para>
                                                                           <command>init</command> works in terms of
                                                                           <emphasis>runlevels</emphasis>. A runlevel has a number, and specifies
                                                                           a set of services that should be available while the system is running
                                                                           in that runlevel. The <acronym>LTSP</acronym> workstation starts in
                                                                           runlevel 2. That is set by the <literal>initdefault</literal> line in
                                                                           the <filename>inittab</filename> file.</para>
                                                            </formalpara>
                                                  </listitem>
                                                  <listitem>
                                                            <formalpara>
                                                                      <title>Run <command>rc.local</command></title>
                                                                      <para>One of the first items in the <filename>inittab</filename> file is the
                                                                           <command>rc.local</command> command that will be run while
                                                                           the workstation is in the <literal>sysinit</literal> state.</para>
                                                            </formalpara>
                                                            <orderedlist>
                                                                      <listitem>
                                                                           <formalpara>
                                                                           <title>
                                                                           <command>rc.local</command> creates a
                                                                           <acronym>RAM</acronym> disk for volatile data
                                                                           during bootup.</title>
                                                                           <para>The <command>rc.local</command> script will create a
                                                                           1MB <acronym>RAM</acronym> disk to contain all of
                                                                           the things that need to be written to or modified
                                                                           in any way.</para>
                                                                           </formalpara>
                                                                      </listitem>
                                                                      <listitem>
                                                                           <formalpara>
                                                                           <title>
                                                                           <acronym>RAM</acronym> disk mounted as
                                                                           <filename>/tmp</filename></title>
                                                                           <para>The <acronym>RAM</acronym> disk will be mounted as the
                                                                           <filename>/tmp</filename> directory.
                                                                           This directory exists in order to hold files that
                                                                           need to be written during the boot process. We
                                                                           don't want to write to these files on the hard
                                                                           disk, because then we'll change them for all other
                                                                           clients as well, and the changes pertain only to
                                                                           our client while it's booting.</para>
                                                                           </formalpara>
                                                                           <para>Any files that need to be written will actually exist in the
                                                                           <filename>/tmp</filename> directory. On the hard
                                                                           disk of the server, there are only symbolic links pointing
                                                                           to these files.</para>
                                                                      </listitem>
                                                                      <listitem>
                                                                           <formalpara>
                                                                           <title>The <filename>/proc</filename> filesystem is mounted.</title>
                                                                           <para>This is a virtual filesystem that exposes information
                                                                           about all the currently running processes as a
                                                                           hierarchy of textfiles that may be read exactly as
                                                                           any other file on disk.</para>
                                                                           </formalpara>
                                                                      </listitem>
                                                                      <listitem>
                                                                           <formalpara>
                                                                           <title>Network swap enabled</title>
                                                                           <para>If the workstation is configured to swap over
                                                                           <acronym>NFS</acronym>, the
                                                                           <filename>/var/opt/ltsp/swapfiles</filename>
                                                                           directory will be mounted as
                                                                           <filename>/tmp/swapfiles</filename>.
                                                                           Then, if there isn't a swap file for this
                                                                           workstation yet, it will be created automatically.
                                                                           The size of the swap file is configured in the
                                                                           <filename>lts.conf</filename>
                                                                           file.</para>
                                                                           </formalpara>
                                                                           <para>The swap file will then be enabled, using the
                                                                           <command>swapon</command> command.</para>
                                                                      </listitem>
                                                                      <listitem>
                                                                           <formalpara>
                                                                           <title>Configure loopback interface</title>
                                                                           <para>The loopback network interface is configured. This is
                                                                           the networking interface that has
                                                                           <literal>127.0.0.1</literal> as its IP
                                                                           address.</para>
                                                                           </formalpara>
                                                                      </listitem>
                                                                      <listitem>
                                                                           <formalpara>
                                                                           <title>Mount <filename>/home</filename></title>
                                                                           <para>If LOCAL_APPS is enabled (see below), then the
                                                                           <filename>/home</filename> directory
                                                                           will be mounted, so that running applications can
                                                                           access the users' home directories.</para>
                                                                           </formalpara>
                                                                      </listitem>
                                                                      <listitem>
                                                                           <formalpara>
                                                                           <title>Create <filename>/tmp</filename></title>
                                                                           <para>Several directories are created in the
                                                                           <filename>/tmp</filename> filesystem for holding
                                                                           some of the transient files that are needed while
                                                                           the system is running. Directories such as:</para>
                                                                           </formalpara>
                                                                           <orderedlist>
                                                                           <listitem>
                                                                           <para>/tmp/compiled</para>
                                                                           </listitem>
                                                                           <listitem>
                                                                           <para>/tmp/var</para>
                                                                           </listitem>
                                                                           <listitem>
                                                                           <para>/tmp/var/run</para>
                                                                           </listitem>
                                                                           <listitem>
                                                                           <para>/tmp/var/log</para>
                                                                           </listitem>
                                                                           <listitem>
                                                                           <para>/tmp/var/lock</para>
                                                                           </listitem>
                                                                           <listitem>
                                                                           <para>/tmp/var/lock/subsys</para>
                                                                           </listitem>
                                                                           </orderedlist>
                                                                           <para>will all be created.</para>
                                                                      </listitem>
                                                                      <listitem>
                                                                           <formalpara>
                                                                           <title>Configure X Windows</title>
                                                                           <para>The X Windows system will now be configured. In the
                                                                           <filename>lts.conf</filename> file,
                                                                           there is a parameter called XSERVER. If this
                                                                           parameter is missing, or set to "auto", then an
                                                                           automatic detection will be attempted. If the
                                                                           workstation has a PCI video card, then we will get
                                                                           the PCI Vendor and Device id, and do a lookup in
                                                                           the <filename>/etc/vidlist</filename> file.</para>
                                                                           </formalpara>
                                                                           <para>If the card is supported by XFree86 31.X, the
                                                                           <command>pci_scan</command> routine will return the name of
                                                                           the driver module. If it is only supported by XFree86
                                                                           32.3.6, <command>pci_scan</command> will return the name of
                                                                           the X server to use. The <command>rc.local</command> script
                                                                           can tell the difference because the older 33.3.6 server
                                                                           names start with <literal>XF86_</literal>.</para>
                                                                      </listitem>
                                                                      <listitem>
                                                                           <formalpara>
                                                                           <title>Generate XF86Config</title>
                                                                           <para>If XFree86 34.x is used, then the
                                                                           <command>/etc/rc.setupx</command> script
                                                                           will be called to build an XF86Config file for X4.
                                                                           If XFree86 35.3.6 is used, then
                                                                           <command>/etc/rc.setupx3</command> will
                                                                           be called to build the XF86Config file, based on
                                                                           entries in the <filename>/etc/lts.conf</filename>
                                                                           file.</para>
                                                                           </formalpara>
                                                                      </listitem>
                                                                      <listitem>
                                                                           <formalpara>
                                                                           <title>
                                                                           <command>rc.local</command> resumes,
                                                                           <filename>start_ws</filename> created</title>
                                                                           <para>When the <command>rc.setupx</command> script is
                                                                           finished, it will return to
                                                                           <command>rc.local</command>. Then the
                                                                           <command>/tmp/start_ws</command> script
                                                                           will be created. This script is responsible for
                                                                           starting the X server.</para>
                                                                           </formalpara>
                                                                      </listitem>
                                                                      <listitem>
                                                                           <formalpara>
                                                                           <title>Configure <command>syslogd</command></title>
                                                                           <para>The <filename>/tmp/syslog.conf</filename> file will be
                                                                           created. This file tells the
                                                                           <command>syslogd</command> daemon where to send
                                                                           logging information (this may be any host on the
                                                                           network). Any program, including the kernel, that
                                                                           wants to record information for the purposes of
                                                                           monitoring, auditing, debugging or later reference
                                                                           can make use of <command>syslogd</command>, which
                                                                           sees to it that this information is written to a
                                                                           file, and that the logged information is
                                                                           eventually cleaned up. <tip>
                                                                           <para>The syslog host is specified in
                                                                           the
                                                                           <filename>lts.conf</filename>
                                                                           file. There is a symbolic link
                                                                           from
                                                                           <filename>/etc/syslog.conf</filename>
                                                                           to the
                                                                           <filename>/tmp/syslog.conf</filename>
                                                                           file.</para>
                                                                           </tip></para>
                                                                           </formalpara>
                                                                      </listitem>
                                                                      <listitem>
                                                                           <formalpara>
                                                                           <title>Start <command>syslogd</command></title>
                                                                           <para>The <command>syslogd</command> daemon is started,
                                                                           using the config file created in the previous
                                                                           step.</para>
                                                                           </formalpara>
                                                                      </listitem>
                                                            </orderedlist>
                                                  </listitem>
                                                  <listitem>
                                                            <formalpara>
                                                                      <title>
                                                                           <command>init</command> resumes, changes to
                                                                           <emphasis>default</emphasis> runlevel</title>
                                                                      <para>Control is then passed back to <command>init</command>, which will look at
                                                                           the <literal>initdefault</literal> entry to determine which runlevel
                                                                           to enter. As of <literal>lts_core-2.37</literal>, the value of
                                                                           <literal>initdefault</literal> is 2.</para>
                                                            </formalpara>
                                                  </listitem>
                                                  <listitem>
                                                            <formalpara>
                                                                      <title>What the different runlevels do</title>
                                                                      <para>A runlevel of 2 will cause init to run the <command>set_runlevel</command>
                                                                           script which will read the <filename>lts.conf</filename> file and
                                                                           determine what runlevel the workstation will run in. <tip>
                                                                           <para>The standard runlevels for <acronym>LTSP</acronym> are
                                                                           3, 4 and 5.</para>
                                                                           </tip></para>
                                                            </formalpara>
                                                            <variablelist>
                                                                      <varlistentry>
                                                                           <term>3</term>
                                                                           <listitem>
                                                                           <para>This will start a shell. This is very useful for
                                                                           debugging the workstation.</para>
                                                                           </listitem>
                                                                      </varlistentry>
                                                                      <varlistentry>
                                                                           <term>4</term>
                                                                           <listitem>
                                                                           <para>This will run one or more Telnet sessions in character
                                                                           mode. This is great if you are just replacing old
                                                                           serial terminals.</para>
                                                                           </listitem>
                                                                      </varlistentry>
                                                                      <varlistentry>
                                                                           <term>5</term>
                                                                           <listitem>
                                                                           <para>GUI mode. This will bring up X windows, and send an
                                                                           XDMCP query to the server, which will bring up a
                                                                           login dialogue box to let you log into the server.
                                                                           You will need a display manager listening on the
                                                                           server, such as XDM, GDM or KDM.</para>
                                                                           </listitem>
                                                                      </varlistentry>
                                                            </variablelist>
                                                  </listitem>
                                        </orderedlist>
                              </section>
                    </section>
                    <section id="hw_hdware_networking">
                              <title>Networking</title>
                              <section id="hw_why-network">
                                        <title>Why network?</title>
                                        <para>On its own, a computer can be a fascinating tool. However, when you connect many computers together
                                                  using a network, worlds of possibility open up. In a network, better use is made of all the
                                                  connected resources, because they can be <emphasis>shared</emphasis>. For example, if there is one
                                                  printer, everyone can use it. It is also possible to concentrate resources where they will have the
                                                  greatest benefit --- all the additional memory added to the server becomes available for running the
                                                  programs of <emphasis>all</emphasis> the clients.</para>
                                        <para>The advantages of networking only <emphasis>start</emphasis> with economies in hardware expenditure.
                                                  Another aspect (one that is really far more exciting) is the opening up of communication channels
                                                  among lab users, and, if you can reach the internet, with the world at large. Only some of the lab
                                                  users will be interested in computers for their own sake. Many more users will be writing essays,
                                                  asking questions, drawing pictures or practising skills using the educational programs offered in a
                                                  &productname;. With a network, they can easily share documents, discuss them, and have a record
                                                  of discussions for the learners that come after them.</para>
                                        <section id="hw_printing">
                                                  <title>Printing</title>
                                                  <para>A &productname; will usually have only one or two printers for the lab as a whole. Since
                                                            everyone will use these, it's worthwhile to get the best printers you can afford: as long
                                                            as they're on a network, everyone will benefit.</para>
                                                  <para>Depending on the make of printer, it may be connected to the network switch with a network
                                                            cable, or it may be connected directly to a print server (which may be the classroom
                                                            server) with a parallel cable.</para>
                                                  <para>Printing in a &productname; will be managed using <acronym>CUPS</acronym>, the Common Unix
                                                            Printing System. It provides a web interface (accessible at
                                                                      <literal>http://printserver:631/</literal>) where you may check the status of
                                                            printers and print jobs, print test pages, and so on. ( <literal>printserver</literal> is
                                                            the hostname of the printer or the server to which the printer is connected.)</para>
                                        </section>
                                        <section id="hw_email">
                                                  <title>Email</title>
                                                  <para>Email has been called the "killer application" of the internet. It's the most ubiquitous and
                                                            accessible way to communicate with people across the world.</para>
                                                  <para>Not all &productname;s have email. Generally, you'll only have email if a Wizzy server is
                                                            installed along with the classroom application server. The Wizzy server functions as a
                                                            post office and a stand-in, or a proxy, for the world wide web.</para>
                                                  <para>If your &productname; is equipped with a Wizzy server, you'll be able to send mail to each
                                                            other and to other schools or mailing lists all over the world.</para>
                                        </section>
                                        <section id="hw_file-sharing">
                                                  <title>File sharing</title>
                                                  <para>Without a network, transferring files from one computer to another is a difficult and
                                                            inconvenient process. You have to copy the file onto some storage medium (such as a floppy
                                                            disk, flash disk or a <acronym>CD</acronym>) and carry it over to the other computer
                                                            yourself. Floppy disks tend to break or become silently corrupted. <acronym>CD</acronym>s
                                                            can only be written once. Even rewritable <acronym>CD</acronym>s are slow to use, and
                                                            expensive. USB Flash disks or memory sticks are currently the best medium for taking files
                                                            from one computer to another without a network, but they still have to be physically taken
                                                            from one USB port to another.</para>
                                                  <para>It's much better to shift the job to network cables. Once laid, a cable will keep on working
                                                            (unless a mouse or rat decides that the cable looks like dinner). It doesn't cost anything
                                                            to transfer data over it, and it's very fast.</para>
                                                  <para>In the thin-client configuration of a &productname;, the reality is even better. None of
                                                            the client workstations store any data, so the need for them to have internal hard disk
                                                            drives has been eliminated. The only computer in a &productname; that must contain at
                                                            least one disk drive is the classroom server. Every user of the &productname; - in
                                                            other words, every person with a username and password to login at a workstation - has
                                                            some storage space on the classroom server's hard drive allocated to them, where they may
                                                            store their data. They all reach their data via the network.</para>
                                                  <para>This means that making a copy of a file for another user comes down to making a copy elsewhere
                                                            on the same disk drive. Similarly, for files that many people need to share without
                                                            necessarily needing their own copies to modify, a shared folder with one file provides
                                                            everyone with access to the file. In a non-networked situation, every single workstation
                                                            would need their own copy of such files. This is the case for the whole operating system
                                                            and application software, for example. Each workstation would need a copy of the operating
                                                            system and a copy of the word processing application, email client, internet browser, etc.
                                                            With a networked environment like the &productname; you don't need all these
                                                  copies.</para>
                                        </section>
                              </section>
                              <section id="hw_equipment">
                                        <title>Equipment</title>
                                        <para>In this section, we have a look at the different kinds of equipment that we need to set up a network.</para>
                                        <para>There are many different kinds of computer networks, with different strengths and weaknesses. Some might
                                                  be designed for the maximum data transfer speed, some to minimise costs, and others to make it as
                                                  easy as possible to connect computers to one another. In the case of &productname;s, we need a
                                                  really fast network, because everything displayed by the client workstations needs to be sent from
                                                  the server over the network. We also need a standard network that allows any kind of computer or
                                                  peripheral to be added to the network easily.</para>
                                        <para>In order to meet these criteria, &productname; uses an <emphasis>Ethernet</emphasis> network with
                                                            <emphasis>category 5</emphasis> network cabling (CAT-5, for short).</para>
                                        <para>In an Ethernet, data packets are broadcast onto the network for all connected devices to receive. The
                                                  devices themselves then examine the data packet to determine whether it was meant for them. If so,
                                                  they process it; otherwise, they drop it on the floor and it vanishes.</para>
                                        <para>The name "Ethernet" comes from the ancient Greek concept of "ether". According to them, this was the
                                                  fluid that filled the spaces between stars. Of course there isn't any such thing, but they made it
                                                  up because surely there couldn't be <emphasis>nothing</emphasis> between stars, could there? In an
                                                  Ethernet, as far as the communicating computers are concerned, there aren't any cables either. Of
                                                  course there really are cables, but you don't have to send a data packet down a specific cable to a
                                                  specific computer. You just entrust it to the "ether", and all computers get the packet.</para>
                                        <section id="hw_switches-hubs">
                                                  <title>Switches / Hubs</title>
                                                  <para>There are different ways of wiring an Ethernet local area network. One way is to simply lay
                                                            coaxial cable from one computer to the next, until all the computers are connected,
                                                            forming a <emphasis>ring</emphasis>. This is relatively simple, but the resulting network
                                                            is slow, both because of the electrical properties of the coaxial cable, and because all
                                                            the data has to share a single cable.</para>
                                                  <para>Since a &productname; needs more speed, a <emphasis>star</emphasis> topology is used
                                                            instead. In this configuration, a single CAT-5 cable connects each workstation to a
                                                            central node. This central node acts as an interchange. In a simple network where speed
                                                            isn't critical, this node can be a <emphasis>hub</emphasis>. This is a device with ports
                                                            where you can plug in many network cables; usually 8, 16 or 24. A hub is very chatty: it
                                                            simply repeats all the data coming in on one port on all the other ports. This way, the
                                                            data is sure to reach the computer it's meant for. Unfortunately, it also reaches all the
                                                            other computers, taking up precious network bandwidth (which is why we don't recommend
                                                            using one in a &productname;).</para>
                                                  <para>Instead of a hub, you can also use a <emphasis>switch</emphasis>. It looks just like a hub,
                                                            but it's cleverer about routing the traffic that moves across it. In short, it remembers
                                                            where each computer is. This means that when it receives a data packet meant for a
                                                            particular computer, it sends it only to the port where that computer is connected.</para>
                                                  <para>Switches can be linked together to form one bigger switch. For example, if you have a lab with
                                                            25 workstations, you can link together two 16-port switches using a fly-lead.</para>
                                                  <mediaobject>
                                                            <imageobject>
                                                                      <imagedata fileref="../images/switch-flyleads.gif"/>
                                                            </imageobject>
                                                            <caption>Every switch has a couple of special high-speed ports. These are used to link the
                                                                      switch to the server, or to link switches to each other.</caption>
                                                  </mediaobject>
                                        </section>
                                        <section id="hw_cabling_req">
                                                  <title>Cabling</title>
                                                  <para>Category 5 cable, commonly known as CAT-5, is an unshielded twisted pair type cable designed
                                                            for high signal integrity. The actual standard defines specific electrical properties of
                                                            the wire, but it is most commonly known as being rated for its Ethernet capability of 100
                                                            MBit/s. Its specific standard designation is EIA/TIA-568. CAT-5 cable typically has three
                                                            twists per inch of each twisted pair of 24 gauge copper wires within the cable. Another
                                                            important characteristic is that the wires are insulated with a plastic (FEP) that has low
                                                            dispersion; that is, the dielectric constant of the plastic does not depend greatly on
                                                            frequency. Special attention also has to be paid to minimising impedance mismatches at
                                                            connection points. In practise, this means that, when you attach connectors to the cable
                                                            ends, you shouldn't untwist more of the cable than absolutely necessary.</para>
                                        </section>
                                        <section id="hw_topology">
                                                  <title>Cabling Topology</title>
                                                  <para>Your &productname; uses a star topology network. This means that every thin client
                                                            connects directly to the switch, which gives each client a fast connection to the
                                                            &productname; server. In other topologies, such as the ring topology mentioned
                                                            earlier, messages are passed on from computer to computer. Star topologies are the
                                                            fastest, and very effective, and are best suited for thin client networks.</para>
                                                  <para>In the diagram below, you will notice that all the thin clients, as
                                                            well as the server, connects to the switch using cable, which we call cat5 cable. The
                                                            server connects to a faster port, called the Gigabit port (1000mbps). It has ten times
                                                            the data throughput of the other ports, allowing computers to have fast access to the
                                                            server.</para>
                                                  <para>If your lab has an Internet or e-mail setup, your server will also be connected to a Gateway
                                                            computer. This computer will dial-up at night to collect your email and off-line content.
                                                            The gateway computer will have a modem attached, that converts the sounds from your phone
                                                            line to digital signals that your computer can understand, and vice-versa.</para>
                                                  <para>When troubleshooting, more than half the work is identifying the problem. Once you have a good
                                                            overview of how things fit together, it is easier to locate the cause of the problem.</para>
                                                  <para>Thin clients rely on a network connection to work, so if all the computers fail to start up,
                                                            you might want to check if the networking switch is turned on, or that the server is
                                                            properly connected to a switch. If only one computer fails to start, it might be a problem
                                                            with that particular cable.</para>
                                                  <mediaobject>
                                                            <imageobject>
                                                                      <imagedata fileref="../images/topology.png"/>
                                                            </imageobject>
                                                  </mediaobject>
                                        </section>
                                        <section id="hw_building-the-network">
                                                  <title>Building the network</title>
                                                  <para>When laying CAT-5 cable you need a crimping tool, RJ-45 jacks, and boots for the jacks (if you
                                                            don't know what a <emphasis>boot</emphasis> for the jack is take a look at a network cable
                                                            and find the ends - the boot is the covering that shields the connector).</para>
                                                  <para>The crimping tool is a clever piece of work. It combines the functions of a cable-cutter,
                                                            wire-stripper, and a special grip specifically designed to fix the RJ-45 jack to the
                                                            cable. I'll explain them as I go through the steps of preparing a cable...</para>
                                                  <mediaobject>
                                                            <imageobject>
                                                                      <imagedata fileref="../images/netwerkkabelplug.png"/>
                                                            </imageobject>
                                                            <caption>An RJ-45</caption>
                                                  </mediaobject>
                                                  <mediaobject>
                                                            <imageobject>
                                                                      <imagedata fileref="../images/crimptool.png"/>
                                                            </imageobject>
                                                            <caption>A crimping tool</caption>
                                                  </mediaobject>
                                                  <section id="hw_cutting-the-cables">
                                                            <title>Cutting the cables</title>
                                                            <para>The first thing you need to do is cut the cable into the appropriate lengths, using
                                                                      the crimping tool's cable-cutter. To do this, measure the distance from the box
                                                                      where the switch will be installed to the furthest computer in each row.
                                                                      (Usually, in a &productname;, there will be four rows of workstations). It's
                                                                      easiest to use the cable itself for this, and to mark the length with a piece of
                                                                      masking tape.</para>
                                                            <para>To keep things organised, write something on the masking tape to identify the
                                                                      computer which the cable is meant for. Label the rows using a letter (so that
                                                                      you have rows A, B, C and D), and label each computer in a row with a number (so
                                                                      that you have A1 to A8, and so on). Once you have the longest cable in each row,
                                                                      you can figure out all the other lengths by shortening each subsequent cable
                                                                      with the distance between two workstations (normally, this will be 1200mm).</para>
                                                            <para>While you are cutting the cable into the right lengths, take care to keep the cables
                                                                      for each row together. Bind all the cables for a row together in a bundle, using
                                                                      masking tape. At the one end of the bundle (the switch end) all the cable ends
                                                                      will be together. On the other end, the ends will vary from the shortest to the
                                                                      longest.</para>
                                                            <para>Besides the cables from the switch to the workstations, you also need to cut a
                                                                      couple of fly leads. These are used to connect the server(s) to the switch, and
                                                                      also to link together multiple switches.</para>
                                                  </section>
                                                  <section id="hw_laying-the-cables">
                                                            <title>Laying the cables</title>
                                                            <para>Once all the cables have been cut and gathered together in bundles, you can take
                                                                      them into the lab. Put them on the ground underneath the desks, and ensure that
                                                                      the cables at the switch end can comfortably reach the switch.</para>
                                                            <para>If your network shares the same trunking with the electrical wiring of the lab, you
                                                                      MUST switch off the lab's power at the electrical subdivision board for the lab.</para>
                                                            <para>Now you need to put the cables inside the trunking. To do this, get as much help as
                                                                      you can muster, as it's hard work and no fun to do alone. Take the cover off the
                                                                      trunking. Note carefully where each workstation will be standing, and drill a
                                                                      small hole in the trunking below each workstation, for the CAT-5 cable to reach
                                                                      the workstation. While the cables and the covers are lying on the floor, thread
                                                                      each cable through the correct hole in the trunking (the cable for computer A1
                                                                      goes through the hole for A1, and so on).</para>
                                                            <para>Once this is done, carefully put the cables inside the trunking and put the covers
                                                                      back on. Pass the cable ends up above the desks. You should have about 1m free
                                                                      cable for each workstation.</para>
                                                  </section>
                                                  <section id="hw_crimping-the-cables">
                                                            <title>Crimping the cables</title>
                                                            <para>Stepping back, your lab looks the same as before, with the addition of cable ends
                                                                      emerging above the desks, and a whole bundle of cables terminating at the switch
                                                                      cabinet. Now you need to attach RJ-45 jacks to the cable ends, so that they can
                                                                      be plugged into the switch at the one end, and into each workstation's network
                                                                      card on the other end.</para>
                                                            <para>To do this, complete the following steps for each cable.</para>
                                                            <procedure>
                                                                      <step>
                                                                           <para>Insert the 'boot' over the cable. This will cover the exposed
                                                                           wires where the RJ-45 jack is attached to the cable
                                                                           wires.</para>
                                                                      </step>
                                                                      <step>
                                                                           <para>Cut through the sheath around the cable to expose the pairs of
                                                                           coloured wires, without damaging them.</para>
                                                                      </step>
                                                                      <step>
                                                                           <para>Untwist about 2cm of each pair of wires (no more, as this
                                                                           impairs the effectiveness of the cable for data
                                                                           transmission).</para>
                                                                      </step>
                                                                      <step>
                                                                           <para>Arrange the wires in the correct colour sequence.
                                                                           (Straight-through cabling for cables between the switch and
                                                                           workstations, or Cross-over cabling for fly leads that
                                                                           connect switches, or that connect the switch to the
                                                                           server).</para>
                                                                      </step>
                                                                      <step>
                                                                           <para>Insert the wires into the RJ-45 connector. Push them up so that
                                                                           all the wires terminate right at the tip of the
                                                                           connector.</para>
                                                                      </step>
                                                                      <step>
                                                                           <para>Check the colour sequence of the wires again.</para>
                                                                      </step>
                                                                      <step>
                                                                           <para>Crimp the wires to the connector using the tool. You'll notice
                                                                           that the connector has copper strips along the top. These
                                                                           connect to matching strips in the plug of the workstation's
                                                                           network card or the switch. When you crimp the connector, it
                                                                           bites into the wires through their plastic covering,
                                                                           connecting its copper strips to the copper wire. This is why
                                                                           it's critical to push the wires right up to the tip of the
                                                                           connector, so that the connector's teeth find the
                                                                           wire.</para>
                                                                      </step>
                                                                      <step>
                                                                           <para>Test the cable using a continuity tester, if you have one. If
                                                                           you don't, you'll just have to figure out whether it works
                                                                           by trial and error later.</para>
                                                                      </step>
                                                            </procedure>
                                                            <mediaobject>
                                                                      <imageobject>
                                                                           <imagedata fileref="../images/cablingcrossed.png"/>
                                                                      </imageobject>
                                                                      <caption>Cross-over CAT-5 cable</caption>
                                                            </mediaobject>
                                                            <mediaobject>
                                                                      <imageobject>
                                                                           <imagedata fileref="../images/cablingstraight.png"/>
                                                                      </imageobject>
                                                                      <caption>Straight-through CAT-5 cable</caption>
                                                            </mediaobject>
                                                  </section>
                                        </section>
                              </section>
                              <section id="hw_lans-and-wans">
                                        <title>LANs and WANs</title>
                                        <para>You have now constructed a <emphasis>local area network</emphasis>, or <acronym>LAN</acronym>. It's what
                                                  gives your &productname; life, but it stops at the classroom walls. To be able to send and
                                                  receive email or access the internet, it is necessary to connect to further networks. This happens
                                                  over a <emphasis>wide area network</emphasis>, or WAN. A WAN is a computer network covering a wide
                                                  geographical area. The grandest example of a WAN is the internet.</para>
                                        <para>WANs are used to connect local area networks together, so that users and computers in one location can
                                                  communicate with users and computers in other locations. Many WANs are built for one particular
                                                  organisation and are private; others, built by internet service providers, provide connections from
                                                  an organisation's <acronym>LAN</acronym> to the internet. This is the case with a &productname;
                                                  that is connected to the internet. <emphasis>Private</emphasis> WANs are most often built using
                                                  leased lines. At each end of the leased line, a router connects to the <acronym>LAN</acronym> on one
                                                  side and a hub or a switch within the WAN on the other.</para>
                                        <para>While a <acronym>LAN</acronym> is a network of computers and devices, a WAN is most often a network of
                                                  networks. A router, or a computer configured to function as a router, on each network, connects to
                                                  routers on other networks.</para>
                                        <para>Behind every router there may be many computers (or networks) that are not directly connected to the
                                                  internet. It is then the function of the internet gateway computer to route packets from outside
                                                  networks to the correct computer on the inside. All the computers on a <acronym>LAN</acronym> share
                                                  a single connection to the internet. In the case of &productname;s, the Wizzy server, if you
                                                  have one, acts as a gateway computer.</para>
                                        <para>However, because a permanent WAN connection is very expensive in South Africa, especially in rural areas
                                                  where telecommunication infrastructure may be lacking, a &productname; will typically only
                                                  connect to the internet only intermittently. When it is not connected, the Wizzy server acts as a
                                                  proxy for the internet, serving cached requests, and queueing email to send later when the
                                                  connection is established again.</para>
                              </section>
                              <section id="hw_tcp-ip">
                                        <title>
                                                  <acronym>TCP/IP</acronym>
                                        </title>
                                        <para>The network protocol of the &productname; <acronym>LAN</acronym> is the same as that used for
                                                  communication on the internet, namely <acronym>TCP/IP</acronym>. This is the <emphasis>Transmission
                                                            Control Protocol (TCP)</emphasis>, encapsulated within the <emphasis>Internet Protocol
                                                            (IP)</emphasis>. The Internet Protocol takes care of routing data packets from a source IP
                                                  address to a destination IP address. An IP address consists of four numbers that look like this:
                                                            <literal>192.168.10.200</literal>. IP packets can contain TCP packets. Whereas an IP
                                                  packet only knows where it should go, TCP packets contain information about their position in a
                                                  sequence of packets.</para>
                                        <para>TCP is wonderful: it makes it possible to treat a flaky network as though it were perfectly reliable.
                                                  When you send anything across a <acronym>TCP/IP</acronym> network (e.g. an email message, an image,
                                                  or a document) it is broken down into many TCP packets. These are numbered and sent, one by one, to
                                                  the destination computer. At the destination, the sequence number is used to put the packets in the
                                                  correct order (as they may have become mixed up in transit). If there are gaps in the sequence, only
                                                  those packets are requested again. If some packets are received more than once, the extra packets
                                                  are simply dropped. Once all the packets in the sequence have been received, the entire file has
                                                  been transferred successfully.</para>
                                        <para>Unsurprisingly, an IP address cannot be just any four numbers. Actually, there is a lot of underlying
                                                  structure. In the first place, the numbers are a sequence of four <emphasis>bytes</emphasis>.
                                                  Computers generally handle data one byte at a time, so it's convenient to specify things as a
                                                  sequence of bytes. A byte consists of eight binary digits. The binary number system has only two
                                                  digits, namely 0 and 1: just as 99999999 is the largest number that you can express with eight
                                                  decimal digits, 11111111 is the largest number that you can express with eight binary digits. If you
                                                  convert that number to decimal, you get 256. For this reason, a sequence like
                                                  <literal>300.5.502.743</literal> does not make any sense as an IP address.</para>
                                        <para>In the second place, some address ranges are reserved. For example, all the networks that start with
                                                            <literal>192.168.***.***</literal> as their first two digits are private, not routed on
                                                  the internet. The whole public IP address space is divided among ISPs. Each <acronym>ISP</acronym>
                                                  gets a range of numbers that they may portion out between its customers. This range of numbers is
                                                  described in terms of a <emphasis>netmask</emphasis>, a number which looks similar to an IP address,
                                                  but is used to match all the IP addresses that belong to a particular network. Private networks can
                                                  also be segmented into subnets using netmasks. Any computer on a network can send IP packets to any
                                                  other computer on the network, but to send an IP packet to a computer on a
                                                  <emphasis>different</emphasis> network, there must be a gateway computer which is configured to help
                                                  the packets cross from one network to another.</para>
                                        <para>Gateway computers also implement network management policies, e.g. by way of firewall software, that
                                                  specify what traffic is allowed into and out of a network.</para>
                              </section>
                    </section>
                    <section id="hw_hardware_configure">
                              <title>Configuration</title>
                              <section id="hw_wizzy-configuration">
                                        <title>Wizzy configuration</title>
                                        <para>A Wizzy server plays two roles. In the first place, it serves as an internet proxy, serving cached pages
                                                  to a lab without a permanent internet connection. In the second place, it connects to the internet
                                                  and retrieves requested pages to store them locally, sends queued email, and fetches received mail.</para>
                                        <para>These two roles don't have to be fulfilled by the same server: they may be split across two servers, for
                                                  example if the school has no internet access. In this case, there will be a Wizzy in the
                                                  &productname; and another one at a remote location with internet connectivity.</para>
                                        <para>The hardware requirements for the Wizzy server are far less than those of the classroom application
                                                  server, since it has to do far less work. All it needs to do most of the time is to serve up saved
                                                  pages from its hard disk. For this, a server with a 200+MHz <acronym>CPU</acronym>, 256MB
                                                            <acronym>RAM</acronym>, and a 40GB RAID 1 disk array is adequate.</para>
                                        <section id="hw_software-used-by-the-wizzy-server">
                                                  <title>Software used by the Wizzy server</title>
                                                  <itemizedlist>
                                                            <listitem>
                                                                      <para>The Wizzy server uses <acronym>DHCP</acronym> ( <xref
                                                                           linkend="hw_dynamic-host-configuration-protocol"/>) and
                                                                           <acronym>TFTP</acronym> for booting, the same as the
                                                                           classroom server.</para>
                                                            </listitem>
                                                            <listitem>
                                                                      <para>It uses the Lightweight Directory Access Protocol (LDAP) for
                                                                           authentication. When users access their email on the Wizzy server they
                                                                           will need to supply a username and password. This information is kept
                                                                           by an LDAP server, which maintains a directory where user information
                                                                           may be looked up. It is analogous to a telephone directory.</para>
                                                                      <para>Ideally, there should be only one directory for a tuXlab, which contains
                                                                           the information on all the users and resources (such as printers) in
                                                                           the lab. Currently, however, the directory maintained by the Wizzy
                                                                           server is separate from the user database on the classroom
                                                                      server.</para>
                                                            </listitem>
                                                            <listitem>
                                                                      <para>The Unix-to-Unix Copy Protocol (UUCP) is used for <emphasis>all</emphasis>
                                                                           email sending and receiving, as well as for fetching web pages. As
                                                                           long as a service can be configured to use UUCP for communication, it
                                                                           is possible to provide the service without a permanent internet
                                                                           connection. For this reason, Wizzy sticks to UUCP.</para>
                                                            </listitem>
                                                            <listitem>
                                                                      <para>The Wizzy server uses BIND (the Berkeley Internet Name Daemon) for domain
                                                                           name services ( <acronym>DNS</acronym>), on the network.
                                                                           <acronym>DNS</acronym> is how IP addresses, such as
                                                                           <literal>192.168.0.254</literal>, are resolved to readable
                                                                           domain names, such as
                                                                           <literal>server.myschool.tuxlab.org.za</literal>.</para>
                                                            </listitem>
                                                            <listitem>
                                                                      <para>For email, Wizzy uses the Courier IMAP server for inbound mail and
                                                                           webmail.</para>
                                                                      <para>IMAP (the Internet Mail Access Protocol) provides a way for all kinds of
                                                                           mail clients (such as Thunderbird, or Mozilla's email component) to
                                                                           access a mail store. In Wizzy's case, the Courier package handles mail
                                                                           storage and IMAP access. Wizzy also provides a webmail client to
                                                                           access the mail store using a web browser.</para>
                                                            </listitem>
                                                            <listitem>
                                                                      <para>To send mail, Wizzy uses the <command>exim</command> program.</para>
                                                            </listitem>
                                                            <listitem>
                                                                      <para>As discussed in <xref linkend="hw_wizzy-configuration"/>, one of the most
                                                                           important jobs the Wizzy does is to provide a browsable offline copy
                                                                           of all the web pages that interest tuXlab users. It does this using
                                                                           the <ulink url="http://www.gedanken.demon.co.uk/wwwoffle/">
                                                                           wwwoffle</ulink> program to provide a local web cache. It augments
                                                                           <command>wwwoffle</command> (the World Wide Web Offline
                                                                           Explorer) with some custom programs, since Wizzy's disconnected mode
                                                                           of operation goes beyond the options offered by
                                                                           <command>wwwoffle</command> on its own.</para>
                                                            </listitem>
                                                            <listitem>
                                                                      <para>The Wizzy server provides its administration functions as well as webmail
                                                                           as web pages, and uses the <ulink url="http://www.apache.org/">
                                                                           apache</ulink> webserver to serve these pages. They may be accessed by
                                                                           going to <ulink url="http://wizzy/"> http://wizzy/</ulink> on the
                                                                           tuXlab <acronym>LAN</acronym>.</para>
                                                            </listitem>
                                                            <listitem>
                                                                      <para>For a local FTP server, Wizzy uses vsftpd. This is only used if there are
                                                                           files that need to be downloaded from the Wizzy server via FTP.</para>
                                                            </listitem>
                                                            <listitem>
                                                                      <para>In its role as a connection to the internet, the Wizzy server can connect
                                                                           to any <acronym>ISP</acronym> with which the school has an account, in
                                                                           order to retrieve web pages. It does not, however, use any email
                                                                           facilities that the <acronym>ISP</acronym> may provide: all mail goes
                                                                           through Andy Rabagliati's server in Cape Town using UUCP.</para>
                                                            </listitem>
                                                            <listitem>
                                                                      <para>For the sake of data integrity, Wizzy uses a RAID disk system for storage.
                                                                           RAID is a <emphasis>Redundant Array of Inexpensive Disks</emphasis>.
                                                                           It is a way to federate multiple hard disk drives in such a way that
                                                                           the failure of any one disk does not result in data loss.</para>
                                                            </listitem>
                                                  </itemizedlist>
                                        </section>
                                        <section id="hw_wizzy-as-a-classroom-server">
                                                  <title>Wizzy as a classroom server</title>
                                                  <para>The Wizzy project predates tuXlabs. It can also be configured to provide a similar range of
                                                            application serving functions as the tuXlab classroom server provides. In this
                                                            configuration, it uses the following packages:</para>
                                                  <itemizedlist>
                                                            <listitem>
                                                                      <para>Like the tuXlab server, Wizzy uses the <acronym>LTSP</acronym> packages
                                                                           for its thin-client NFS-mounted root directory.</para>
                                                            </listitem>
                                                            <listitem>
                                                                      <para>As a classroom server, it also uses <acronym>NFS</acronym> (the Network
                                                                           FileSystem) for home directories that are NFS-mounted by the thin
                                                                           clients.</para>
                                                            </listitem>
                                                  </itemizedlist>
                                        </section>
                              </section>
                              <section id="hw_dynamic-host-configuration-protocol">
                                        <title>Dynamic Host Configuration Protocol</title>
                                        <para>Every computer on a local area network ( <acronym>LAN</acronym>) needs to have a unique IP address so
                                                  that it may send and receive data. The Dynamic Host Configuration Protocol (
                                                  <acronym>DHCP</acronym>) is a networking protocol that allocates IP addresses dynamically to
                                                  computers on a <acronym>LAN</acronym>. Without it, an administrator needs to give each client
                                                  computer a static IP address manually. This may seem simple enough to begin with, but given time, it
                                                  slowly turns into a nightmare: computers are added, removed or moved about, and the number
                                                  assignments eventually become arbitrary and troublesome to keep track of. On a network with manually
                                                  assigned addresses, it's also awkward to connect transient devices such as laptop computers that are
                                                  also used on many other networks. You have to talk to the system administrator to find out the
                                                  network configuration, and then check the network to find a free address. With
                                                  <acronym>DHCP</acronym>, it's easy: just plug in an Ethernet cable for the new device, and it will
                                                  immediately request an IP address from the classroom server, which will assign an unused number to
                                                  it.</para>
                                        <para>In a &productname;, the classroom server is configured as a <acronym>DHCP</acronym> server. A system
                                                  administrator assigns a range of IP addresses to the server. Each client computer on the
                                                            <acronym>LAN</acronym> has its <acronym>TCP/IP</acronym> software configured to request an
                                                  IP address automatically from the <acronym>DHCP</acronym> server when that client computer starts
                                                  up. The request-and-grant process uses a lease concept with a controllable time period. This eases
                                                  the network installation procedure on the client computer side considerably.</para>
                                        <para>In addition to the IP address, a <acronym>DHCP</acronym> server can set other configuration information,
                                                  such as the address of the <acronym>DNS</acronym> server, the <acronym>DNS</acronym> domain of the
                                                  client, and the gateway IP address, so that the client computer can be fully functional.</para>
                                        <para>Before I continue, let me explain the concepts I've just introduced. First, the <acronym>DNS</acronym>
                                                  domain: all Linux computers are given a hostname upon installation of the <acronym>OS</acronym>,
                                                  which is used in system messages and configuration. When the computer joins a network, its hostname
                                                  and the domain of the network together combine to form the Fully Qualified Domain Name (
                                                            <acronym>FQDN</acronym>) of the computer. In the case of a tuXlab, the
                                                  <acronym>FQDN</acronym> of each workstation will be something like
                                                            <literal>client1.myschool.tuxlab.org.za</literal>. The public <acronym>DNS</acronym>
                                                  servers that resolve the domain names of tuXlabs on the internet are maintained by SchoolNet <ulink
                                                            url="http://www.schoolnet.org.za/schoolsurveys/suveys_index.htm">
                                                            http://www.schoolnet.org.za/schoolsurveys/suveys_index.htm</ulink></para>
                                        <para>Secondly, the gateway IP address. In <xref linkend="hw_lans-and-wans"/> we explained that the internet is a
                                                            <emphasis>network of networks</emphasis>. For data packets from a computer on one network
                                                  to reach a server on another network, there needs to be a gateway that is connected to both networks
                                                  at once. Usually, the gateway computer will have a network card for every network to which it is
                                                  connected.</para>
                                        <para>By default, the <acronym>LTSP</acronym> server uses its first network card ( <literal>eth0</literal>,
                                                  numbered from 0 like most things in the computer world) for the classroom <acronym>LAN</acronym>. It
                                                  runs <acronym>DHCP</acronym> on this card, and automatically gives out IP numbers upon request. It
                                                  then accepts BootP (Boot Protocol) and <acronym>PXE</acronym> (Pre-boot eXecution Environment) boot
                                                  requests, and passes on the Linux kernel to the client using <acronym>TFTP</acronym> for the
                                                  transfer. Once the client has received the kernel, it boots into Linux. The default
                                                            <filename>dhcpd.conf</filename> file will support over 200 clients. The
                                                  <acronym>LTSP</acronym> server will not answer <acronym>DHCP</acronym> requests over
                                                  <literal>eth1</literal> (with the default settings.)</para>
                                        <section id="hw_files">
                                                  <title>Files</title>
                                                  <para>The configuration settings for the <acronym>DHCP</acronym> server are contained in the
                                                                      <filename>/etc</filename> directory (standard Linux location for configuration
                                                            data) in the file <filename>/etc/dhcpd.conf</filename>. For more information about
                                                                      <filename>dhcpd.conf</filename> please visit <ulink
                                                                      url="http://linuxreviews.org/man/dhcpd.conf/"> Linux Reviews help
                                                            section</ulink> or read the <filename>dhcpd.conf</filename> man help [type man dhcpd.conf
                                                            at the command prompt of your Linux server].</para>
                                        </section>
                              </section>
                              <section id="hw_network-configuration">
                                        <title>Network configuration</title>
                                        <para>The first network card, <literal>eth0</literal>, is the interface on the thin-client side of your
                                                            <acronym>LTSP</acronym> server. This network card connects to your terminal hub. The
                                                            <literal>192.168.0.x</literal> address range is designated as a "private" IP range for
                                                  internal networks. It is not routed on the internet. IP traffic from your clients are routed to the
                                                  internet through <literal>eth1</literal> (Note that if there is a Wizzy server, it will be the one
                                                  with the two network cards).</para>
                                        <para>The classroom server has the last available address in this range, namely
                                                  <literal>192.168.0.254</literal> ( <literal>192.168.0.255</literal> is the
                                                  <emphasis>broadcast</emphasis> address: packets sent to this address reach all the computers on the
                                                  network). The first client will be assigned an IP number of <literal>192.168.0.253</literal>. <footnote>
                                                            <para>For more information, see <ulink url="http://www.k12ltsp.org/install.html">
                                                                           http://www.k12ltsp.org/install.html</ulink></para>
                                                  </footnote></para>                                       
                                        <section id="hw_wizzy-network-configuration">
                                                  <title>Wizzy network configuration</title>
                                                  <para>When the tuXlab has a Wizzy server, there are a couple of other aspects to network
                                                            configuration.</para>
                                                  <itemizedlist>
                                                            <listitem>
                                                                      <para>Protocols</para>
                                                                      <para>Wizzy Digital Courier relies on standard networking protocols for the
                                                                           interactive portions, linked by UUCP for the intermittent
                                                                      sections.</para>
                                                            </listitem>
                                                            <listitem>
                                                                      <para>Mail configuration</para>
                                                                      <para>During installation, you must choose a hostname for the Wizzy server. This
                                                                           hostname will identify the server within the mail domain, which is
                                                                           <literal>wizzy.org.za</literal> (because Wizzy provides the
                                                                           email infrastructure), so that your complete mail domain becomes
                                                                           <literal>myschool.wizzy.org.za</literal> (where
                                                                           <emphasis>myschool</emphasis> is the hostname you chose).
                                                                           This means that all the tuXlab users will get email addresses like
                                                                           <literal>user@myschool.wizzy.org.za</literal>.</para>
                                                                      <para>You will also need to contact Andy Rabagliati at XXX, to tell him your
                                                                           UUCP password, as he must set up mail routing for you.</para>
                                                                      <para>For tuXlabs, Wizzy servers have a special configuration available ---
                                                                           accessible by typing the following at the Syslinux boot prompt:</para>
                                                                      <screen>
boot: linux ks=cdrom:/tsf-ks.cfg
</screen>
                                                            </listitem>
                                                  </itemizedlist>
                                        </section>
                              </section>
                              <section id="hw_network-filesystem">
                                        <title>Network Filesystem</title>
                                        <para>tuXlab uses <acronym>NFS</acronym>, the Network Filesystem, to make the home directories of lab users
                                                  appear to be local to the client workstations, even though they really reside on the classroom
                                                  server. The <acronym>NFS</acronym> configuration is specified in the file
                                                  <filename>/etc/exports</filename> on the classroom server.</para>
                              </section>
                              <section id="hw_ltsp-configuration">
                                        <title>
                                                  <acronym>LTSP</acronym> configuration</title>
                                        <para>The <acronym>LTSP</acronym> configuration is specified in the file <filename>lts.conf</filename> on the
                                                  classroom server.</para>
                              </section>
                              <section id="hw_tftpboot">
                                        <title>tftpboot</title>
                                        <para>Upon power-up, the <acronym>BIOS</acronym> of each client workstation contacts the classroom server, and
                                                  retrieves the Linux kernel from it via the <acronym>TFTP</acronym> protocol. XXX: more
                                        detail.</para>
                              </section>
                              <section id="hw_users-and-groups">
                                        <title>Users and groups</title>
                                        <para>All the users of the tuXlab will have accounts on the classroom server. (Additionally, if they have
                                                  email they will have accounts stored in the Wizzy server's LDAP directory.)</para>                                        
                                        <section id="hw_permissions">
                                                  <title>Permissions</title>
                                                  <para>Access to directories, files and executable programs under Linux is managed in terms of users,
                                                            groups and permissions. Every user belongs to a group, and every file belongs to a user
                                                            and a group. The basic permissions are <emphasis>read</emphasis>,
                                                            <emphasis>write</emphasis> and <emphasis>execute</emphasis>. For every file and directory,
                                                            these permissions can be set for the user who owns the file, the group, and for all others
                                                            (i.e. everyone but the owner or the group). For example, here are the permissions of a
                                                            user's home directory:</para>
                                                  <screen>
jean@klippie jean $ ls -ld /home/jean 
drwxr-xr-x 112 jean users 6664 Des 26 17:31 /home/jean
</screen>
                                                  <para>The permissions are shown by the string <literal>drwxr-xr-x</literal>. The first character,
                                                                      <literal>d</literal>, indicates that this is a directory. You should read the
                                                            following 9 characters in groups of three, that show the permissions for the owner
                                                                      <literal>jean</literal> ( <literal>rwx</literal>), the group
                                                            <literal>users</literal> ( <literal>r-x</literal>), and all others (
                                                            <literal>r-x</literal>). In this case, the owner has <emphasis>read</emphasis> (
                                                                      <literal>r</literal>), <emphasis>write</emphasis> ( <literal>w</literal>) and
                                                                      <emphasis>execute</emphasis> ( <literal>x</literal>) permissions, while the
                                                            group and others only have <emphasis>read</emphasis> and <emphasis>execute</emphasis>
                                                            permissions. In the case of a directory, <emphasis>execute</emphasis> permissions means
                                                            that you are allowed to access the contents of the directory. This home directory may
                                                            therefore be read by everyone, but only the user may change it.</para>
                                                  <para>Here are the permissions on the file that contains the system user database:</para>
                                                  <screen>
jean@klippie jean $ ls -l /etc/passwd 
-rw-r--r-- 1 root root 2118 Des 1 05:32 /etc/passwd
</screen>
                                                  <para>These indicate firstly that this is a regular file, not a directory (the leading
                                                            <literal>-</literal>), and that the owner <literal>root</literal> has
                                                            <emphasis>read</emphasis> and <emphasis>write</emphasis> permissions (
                                                            <literal>rw-</literal>), and everyone else have only <emphasis>read</emphasis> permissions
                                                            ( <literal>r--</literal>). In effect, this means that only the <literal>root</literal>
                                                            user may add, modify or delete users.</para>
                                                  <para>You may further note that the group to which this file belongs is also
                                                            <literal>root</literal>. This group only has one member (the <literal>root</literal>
                                                            user), and is used for files that are under control of only this unique user.</para>
                                                  <section id="hw_the-superuser">
                                                            <title>The superuser</title>
                                                            <para>Every Linux machine normally has a user called <literal>root</literal>, who has all
                                                                      permissions. When a system administrator needs to do maintenance, they log in as
                                                                           <literal>root</literal> only to make the necessary changes, and then
                                                                      switch to their regular user again.</para>
                                                  </section>
                                        </section>
                                        <section id="hw_retiring-users">
                                                  <title>Retiring users</title>
                                                  <para>When a class graduates from your school, or pupils leave for other reasons, you will need to
                                                            retire their user privileges and delete their login profile and whatever storage facility
                                                            (disk space, etc) was assigned to them.</para>
                                        </section>
                              </section>
                              <section id="hw_id35">
                                        <title>Printing</title>
                                        <para>The &productname; uses the CUPS (Common Unix Printing System) service. This is the default printing
                                                  system of most Linux distributions. It should be automatically installed when you install your Linux
                                                  distribution on the &productname; server.</para>
                                        <para>For a list of compatible printers and for help regarding CUPS please visit the <ulink
                                                  url="http://www.linuxprinting.org/cups-doc.html"> LinuxPrinting</ulink> website.</para>
                              </section>
                              <section id="hw_developing-a-backup-procedure">
                                        <title>Developing a backup procedure</title>
                                        <para>The importance of backing up a system can never be stressed enough. You never know when the power may
                                                  cut out or the hard drive may crash. Even though you can restore the operating system from the
                                                  distribution CD-ROM, there are other files that you need to consider. What about the configuration
                                                  changes that you made? There are also files created by users, what about those?</para>
                                        <para>Follow these steps to create a backup plan:</para>
                                        <orderedlist>
                                                  <listitem>
                                                            <para>Make a list of the files and directories that you need backups of. You'll always
                                                                      want to backup system configuration files in the <filename>/etc</filename>
                                                                      directory, other configuration files may be found in
                                                                      <filename>/usr/lib</filename>. In addition, you may want to backup user files in
                                                                      the <filename>/home</filename> directory as well as the superuser (
                                                                           <literal>root</literal>) files in <filename>/root</filename>.</para>
                                                  </listitem>
                                                  <listitem>
                                                            <para>Find a few tools to use when backing up and archiving files and directories. Several
                                                                      tools are available that will archive a group of files, and there are tools that
                                                                      will compress files and archives.</para>
                                                  </listitem>
                                                  <listitem>
                                                            <para>Decide how often the system and individual files need to be backed up. How often do
                                                                      your files change? If files change frequently, the your backup frequency should
                                                                      match the change frequency. So, you may need to perform a backup every day. If
                                                                      you only make one or two configuration changes on occasion, you can easily
                                                                      backup the configuration files only when the changes is made.</para>
                                                  </listitem>
                                                  <listitem>
                                                            <para>Select a storage medium that will store the backup file. If you have a few files to
                                                                      backup, you could just store them on a floppy disk. If you have more files, or
                                                                      larger files, you can consider using a zip drive or a CD-RW drive.</para>
                                                  </listitem>
                                                  <listitem>
                                                            <para>Store the files in a safe place. The safest place to store the backup media is at a
                                                                      location different from where the computer is located. To be really safe, this
                                                                      location needs to be protected from fire and other hazards. You may also want to
                                                                      keep a copy of the backup files close by so that you can quickly restore lost
                                                                      files.</para>
                                                  </listitem>
                                        </orderedlist>
                                        <para>
                                                  <emphasis role="strong">Tip</emphasis>: Always make a copy of configuration files before you make
                                                  any configuration changes. That way, should your new settings not work, you can restore the old
                                                  configuration files.</para>
                              </section>
                              <section id="hw_downloading-the-internet">
                                        <title>Downloading the internet</title>
                                        <para>On the homepage of the Wizzy server, accessible by browsing to the server using a web browser
                                                  (http://wizzy/), there is a form to request web sites for caching. Educators may preconfigure the server
                                                  with a range of interesting websites, and learners may request new sites per email or in the
                                                  classroom situation. When the Wizzy server connects to the internet (directly, or indirectly via a
                                                  counterpart in a remote location) it fetches the requested pages, and refreshes those pages which it
                                                  should keep up to date.</para>
                                        <section id="hw_accessibility">
                                                  <title>Accessibility</title>
                                                  <para>All email and websites browsed by the tuXlab users during the day are served directly from the
                                                            server in the classroom. This means instantaneous and constant connectivity to a local
                                                            miniature internet over a top quality hardwired network. There is no waiting. <footnote>
                                                                      <para>See <ulink url="http://wizzy.org.za/article/articlestatic/19/1/2/"
                                                                      /></para>
                                                            </footnote></para>
                                        </section>
                                        <section id="hw_the-internet-as-school-library">
                                                  <title>The internet as school library</title>
                                                  <para>Nothing will ever approach the importance of printed books for fostering a love to read. Only
                                                            by curling up with a book somewhere safe and comfortable can your mind rise on the wings
                                                            of the pages and take you to worlds beyond your own. Books are expensive and scarce,
                                                            though. There are never enough copies. Furthermore, some books work very well in
                                                            electronic form, especially reference works that you don't read from cover to cover. For
                                                            these reasons, the internet can be a wonderful addition to the school library.</para>
                                                  <section id="hw_id38">
                                                            <title>Wikipedia</title>
                                                            <para>If the Wikipedia has been installed, the Wizzy server will also serve a local mirror
                                                                      of it.</para>
                                                            <para>The <ulink url="http://www.wikipedia.org"> Wikipedia</ulink> is a one-of-a-kind
                                                                      collaborative effort to create an online encyclopedia. It is managed and
                                                                      operated by the non-profit Wikimedia Foundation. In addition to standard
                                                                      encyclopedic knowledge, the Wikipedia project has developed offshoots that
                                                                      include the kind of information associated with almanacs and gazetteers, as well
                                                                      as coverage of current events. With a little effort, it can be used offline in
                                                                      schools.</para>
                                                            <para>The Wikipedia is being written collaboratively as an open source project, using
                                                                      specialised <emphasis>wiki</emphasis> software called
                                                                      <literal>mediawiki</literal>. This means that anyone, including you, can make
                                                                      changes and add information. In fact, the openness of Wikipedia to local
                                                                      knowledge is one of its most important characteristics. For the first time, the
                                                                      world is being described not by an editorial committee but by a global community
                                                                      of volunteers, who are able to augment academic knowledge with local experience.</para>
                                                            <para>A <emphasis>wiki</emphasis> is a simple form of web-publishing that was thought up
                                                                      by a software design consultant called Ward Cunningham. His original wiki is
                                                                      still running at <ulink url="http://c2.com/cgi/wiki">
                                                                      http://c2.com/cgi/wiki</ulink></para>
                                                            <para>In a wiki, every page is editable as plain text which is converted to HTML when
                                                                      served, following a number of simple conventions that convey the structure of
                                                                      the text. Specifically the convention for linking between pages is what gives
                                                                      wikis their identity. To create a link to another page, you simply write its
                                                                      title in a special format (e.g. <literal>AnotherPage</literal>), and if that
                                                                      page exists the title is turned into a hyperlink to it. If it
                                                                      <emphasis>doesn't</emphasis> exist, the title is turned into a link leading to a
                                                                      blank page where you may create <literal>AnotherPage</literal> instead. The
                                                                           <literal>mediawiki</literal> software also keeps a record of all
                                                                      versions of a page, so that the entire editorial history of a page may be
                                                                      examined.</para>
                                                            <para>For schools that don't have a permanent internet connection, this entire resource,
                                                                      because of its Open Content license, can be installed locally. Even for schools
                                                                      that are permanently online there are advantages to a local install, in
                                                                      preference to a <literal>wwwoffle</literal> mirror:</para>
                                                            <itemizedlist>
                                                                      <listitem>
                                                                           <para>It's more effective, since it doesn't fetch all the HTML
                                                                           furniture (everything that repeats from page to page, such
                                                                           as the page header and footer) repeatedly.</para>
                                                                      </listitem>
                                                                      <listitem>
                                                                           <para>It's complete. A <literal>wwwoffle</literal> mirror would
                                                                           contain only the articles that were requested,
                                                                           piecemeal.</para>
                                                                      </listitem>
                                                                      <listitem>
                                                                           <para>It's searchable via SQL.</para>
                                                                      </listitem>
                                                            </itemizedlist>
                                                            <para>A local Wikipedia mirror does introduce some complexity though. In addition to
                                                                           <literal>apache</literal>, it requires PHP, Mediawiki and
                                                                           <literal>mysql</literal>. <footnote>
                                                                           <para>See <ulink
                                                                           url="http://wizzy.org.za/article/articlestatic/23/1/2/"
                                                                           /></para>
                                                                      </footnote></para>
                                                  </section>
                                        </section>
                              </section>
                    </section>
                    <section id="hw_hdware_evaluating_usage">
                              <title>Evaluating &productname; Hardware Usage</title>
                              <section id="hw_benefits">
                                        <title>Benefits</title>
                                        <section id="hw_easy-maintenance">
                                                  <title>Easy maintenance</title>
                                                  <para>If a user reconfigures a workstation in a fat client computer lab, all the other users of that
                                                            workstation will have to cope with these changes. This means that if someone inadvertently
                                                            sets the workstation to use black type on a black background, for example, then no-one
                                                            will be able to see what's going on.</para>
                                                  <para>In contrast, in a thin client lab, every user has their own files, their own email, and their
                                                            own desktop environment that they can change to their liking without influencing anyone
                                                            else, all stored on the classroom server. A configuration mistake like the above will
                                                            inconvenience only themselves. <footnote>
                                                                      <para>
                                                                           <ulink url="http://wizzy.org.za/article/articlestatic/5/1/2/"/>
                                                                      </para>
                                                            </footnote></para>
                                        </section>
                                        <section id="hw_cheap-hardware">
                                                  <title>Cheap hardware</title>
                                                  <para>Most of the equipment in a computer lab are workstations for learners to use. There may be one
                                                            or two printers, network switches and a server, but they are far outnumbered by between 20
                                                            and 40 client workstations.</para>
                                                  <para>In a &productname;, these can all be really old, used, previous-generation computers. This
                                                            is because the demands on these machines is so slight that almost anything will do. All
                                                            those stacks of old computers everywhere that no one knows what to do with are suddenly
                                                            useful, and saving schools vast amounts of cash that they would normally have to outlay on
                                                            relatively new equipment so they can run contemporary software.</para>
                                                  <para>The thin client paradigm also means that requirements for uniformity among terminals is
                                                            relaxed. As long as they conform to a couple of basic requirements (network boot, SVGA
                                                            graphics card, enough <acronym>RAM</acronym>) it doesn't matter if they have idiosyncratic
                                                            hardware. Only the server configuration needs to be maintained. Heterogeneous hardware
                                                            doesn't make life difficult for the admin.</para>
                                                  <para>The thin-client network in the lab ensures that each terminal, no matter what its own
                                                            computing characteristics, behaves with all the speed and capability of the server, so
                                                            each user has an experience of top quality, smooth, fast computing. Unfortunately, this
                                                            does mean that if some of your client workstations are powerful, modern machines, they may
                                                            not be fully utilised in a default &productname; configuration, as they will still be
                                                            letting the server do all the work.</para>
                                        </section>
                                        <section id="hw_less-theft">
                                                  <title>Less theft</title>
                                                  <para>In a &productname;, the most accessible hardware is also the easiest to replace and the
                                                            hardest to use outside the lab. A &productname; client workstation on its own, without
                                                            the classroom server, is more or less useless. It's too bulky for a doorstop, and it can't
                                                            run modern software. It doesn't even have a hard drive. <footnote>
                                                                      <para>
                                                                           <ulink url="http://wizzy.org.za/article/articlestatic/5/1/2/"/>
                                                                      </para>
                                                            </footnote></para>
                                        </section>
                                        <section id="hw_mobile-desktops">
                                                  <title>Mobile desktops</title>
                                                  <para>As the terminals only serve to display a session from the classroom server, it doesn't matter
                                                            which one you use. If one breaks while you've using it, you can move to the next one, log
                                                            on, and pick up where you left off. If someone is using the workstation where you were
                                                            working, go to another one and log in there to regain access to your desktop.</para>
                                        </section>
                                        <section id="hw_data-easy-to-back-up">
                                                  <title>Data easy to back up</title>
                                                  <para>All the data in a &productname; resides on the disk array of the classroom server. Instead
                                                            of having to backup 20 or 40 individual hard drives, it's possible to backup only one, and
                                                            still get a complete backup of everyone's data.</para>
                                        </section>
                              </section>
                              <section id="hw_thin-client-configuration">
                                        <title>Thin Client configuration</title>
                                        <para>While there is little to do for the installation of the thin client workstations, there are a couple of
                                                  things you can pay attention to.</para>
                                        <variablelist>
                                                  <varlistentry>
                                                            <term>Network cards</term>
                                                            <listitem>
                                                                      <para>All the client computers need to get a network card with space for a boot
                                                                           <acronym>PROM</acronym>, so that they can start
                                                                           looking for the server on the classroom network as soon as they are
                                                                           switched on. The server also needs a network card, and it needs to be
                                                                           a fast one (gigabit Ethernet), as the link between the server and the
                                                                           switch is ten times quicker than the link between the switch and the
                                                                           client workstations.</para>
                                                            </listitem>
                                                  </varlistentry>
                                                  <varlistentry>
                                                            <term>Boot PROMs</term>
                                                            <listitem>
                                                                      <para>Depending on the network cards you managed to get, the correct Etherboot
                                                                           image may need to be written to the network cards. The <ulink
                                                                           url="http://drbl.sourceforge.net/"> Diskless Remote Boot in
                                                                           Linux</ulink> project has made available an <ulink
                                                                           url="http://www.k12os.org/modules.php?op=modload&amp;name=News&amp; 
                                                                                                    file=article&amp;sid=46&amp;mode=thread&amp;order=0&amp;thold=0"
                                                                           > Etherboot NIC Detection Disk</ulink> which can help you to
                                                                           determine what you need to write to the card.</para>
                                                            </listitem>
                                                  </varlistentry>
                                                  <varlistentry>
                                                            <term>Dual-booting</term>
                                                            <listitem>
                                                                      <para>The <acronym>BIOS</acronym> in the client workstations normally needs to
                                                                           be configured to boot from the network. To do this, watch the
                                                                           workstation screen after turning the power on --- for a couple of
                                                                           seconds, the <acronym>BIOS</acronym> will display a notice that you
                                                                           may press a key (such as <keycap>DEL</keycap> or <keycap>F8</keycap>,
                                                                           depending on the <acronym>BIOS</acronym>) to enter setup mode. This
                                                                           will enable you to specify where the computer should look for boot
                                                                           records during startup; for example on a <acronym>CD</acronym>, a
                                                                           floppy disk, a hard disk, or the network card. In the event that you
                                                                           have a relatively capable workstation with a hard drive, you may want
                                                                           to boot the workstation as a standalone computer from time to time. To
                                                                           do this, you may configure the <acronym>BIOS</acronym> to look for a
                                                                           boot record on a floppy disk before trying the network card.</para>
                                                                      <para>One kind of scenario where this may be useful, is where you have an
                                                                           existing computer lab with software installed at each workstation.
                                                                           Boot from hard disk to access the standalone workstations, and boot
                                                                           from the network to have a &productname;! It is even possible for
                                                                           the standalone workstations to access the &productname; network,
                                                                           and to use the classroom server as a file server, and the Wizzy server
                                                                           as an internet proxy. Since a &productname; is implemented using
                                                                           standard protocols, this will work no matter what operating system is
                                                                           installed on the workstation computers.</para>
                                                            </listitem>
                                                  </varlistentry>
                                                  <varlistentry>
                                                            <term>Other resources</term>
                                                            <listitem>
                                                                      <para>This cookbook can do no more than scratch the surface. Some of the other
                                                                           resources regarding thin-client computing available on the web
                                                                           include:</para>
                                                                      <itemizedlist>
                                                                           <listitem>
                                                                           <para>
                                                                           <ulink url="http://drbl.sourceforge.net/redhat/">
                                                                           Diskless Remote Boot in Linux (DRBL) for
                                                                           Redhat 8.0, 9, Fedora Core 1, 2,
                                                                           Mandrake 9.2, 10</ulink>
                                                                           </para>
                                                                           </listitem>
                                                                           <listitem>
                                                                           <para>
                                                                           <ulink
                                                                           url="http://www.tldp.org/HOWTO/Diskless-root-NFS-HOWTO.html"
                                                                           > Root over <acronym>NFS</acronym>
                                                                           clients &amp; server HOWTO</ulink>,
                                                                           if your workstations have disks, and you don't
                                                                           want to delegate processing to the classroom
                                                                           server.</para>
                                                                           </listitem>
                                                                           <listitem>
                                                                           <para>
                                                                           <ulink
                                                                           url="http://www.tldp.org/HOWTO/Network-boot-HOWTO/index.html"
                                                                           > Network Boot and Exotic Root
                                                                           HOWTO</ulink> This document explains how to
                                                                           quickly setup a Linux server to provide what
                                                                           diskless Linux clients require to get up and
                                                                           running, using an IP network. It is based on the
                                                                           Diskless-HOWTO, the Diskless-root-NFS-HOWTO, the
                                                                           Linux kernel documentation, the Etherboot
                                                                           project's documentation, the Linux Terminal Server
                                                                           Project's homepage, and the author (Brieuc
                                                                           Jeunhomme)'s personal experience.</para>
                                                                           </listitem>
                                                                      </itemizedlist>
                                                            </listitem>
                                                  </varlistentry>
                                        </variablelist>
                              </section>
                              <section>
                                        <title>Drawbacks</title>
                                        <para>Every solution will have some drawbacks, and a &productname; is no exception. I'll just mention a
                                                  few in passing.</para>
                                        <variablelist>
                                                  <varlistentry>
                                                            <term>Unreal Tournament will be lethargic or lag in response rate</term>
                                                            <listitem>
                                                                      <para>Graphics-intensive applications such as games will not perform well, as
                                                                           all the display information will have to be pushed over the network by
                                                                           the server. This is hundreds of times slower than driving a local
                                                                           graphics card. Playing action games, however, is not a goal of the
                                                                           &productname; project.</para>
                                                            </listitem>
                                                  </varlistentry>
                                                  <varlistentry>
                                                            <term>All the clients run the same <acronym>OS</acronym></term>
                                                            <listitem>
                                                                      <para>Since it's really only one instance of Linux serving all the desktops and
                                                                           applications, all the clients in the lab will necessarily offer a
                                                                           Linux environment. It is possible for the server to run software such
                                                                           as Wine (which enables many Windows programs to run under Linux) or
                                                                           VMWare (which allows the server to run instances of other operating
                                                                           systems), but in these cases the underlying system will still be
                                                                           Linux, and the server will still be doing all the work.</para>
                                                            </listitem>
                                                  </varlistentry>
                                                  <varlistentry>
                                                            <term>Single point of failure</term>
                                                            <listitem>
                                                                      <para>While it's very convenient that the thin-client workstations are
                                                                           interchangeable and that you can access your desktop from anywhere, it
                                                                           does mean that a catastrophic failure of the server will put <emphasis
                                                                           role="bold">all</emphasis> client workstations out of
                                                                           commission.</para>
                                                            </listitem>
                                                  </varlistentry>
                                        </variablelist>
                              </section>
                    </section>       
</chapter>
